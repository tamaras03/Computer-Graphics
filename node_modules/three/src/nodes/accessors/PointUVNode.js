import Node from '../core/Node.js';
import { nodeImmutable } from '../tsl/TSLBase.js';

<<<<<<< HEAD
=======
/**
 * A node for representing the uv coordinates of points.
 *
 * Can only be used with a WebGL backend. In WebGPU, point
 * primitives always have the size of one pixel and can thus
 * can't be used as sprite-like objects that display textures.
 *
 * @augments Node
 */
>>>>>>> 50c6784a0819c7177d83555e6a1624cb4553e499
class PointUVNode extends Node {

	static get type() {

		return 'PointUVNode';

	}

<<<<<<< HEAD
=======
	/**
	 * Constructs a new point uv node.
	 */
>>>>>>> 50c6784a0819c7177d83555e6a1624cb4553e499
	constructor() {

		super( 'vec2' );

<<<<<<< HEAD
=======
		/**
		 * This flag can be used for type testing.
		 *
		 * @type {boolean}
		 * @readonly
		 * @default true
		 */
>>>>>>> 50c6784a0819c7177d83555e6a1624cb4553e499
		this.isPointUVNode = true;

	}

	generate( /*builder*/ ) {

		return 'vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y )';

	}

}

export default PointUVNode;

<<<<<<< HEAD
=======
/**
 * TSL object that represents the uv coordinates of points.
 *
 * @tsl
 * @type {PointUVNode}
 */
>>>>>>> 50c6784a0819c7177d83555e6a1624cb4553e499
export const pointUV = /*@__PURE__*/ nodeImmutable( PointUVNode );
